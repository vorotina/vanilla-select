var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.inherits=function(a,d){function e(){}e.prototype=d.prototype;a.superClass_=d.prototype;a.prototype=new e;a.prototype.constructor=a;for(var b in d)if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(d,b);c&&Object.defineProperty(a,b,c)}else a[b]=d[b]};$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){a!=Array.prototype&&a!=Object.prototype&&(a[d]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,e,b){if(d){e=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in e||(e[c]={});e=e[c]}a=a[a.length-1];b=e[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,e){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)$jscomp.owns(c,d)&&(a[d]=c[d])}return a}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill("Array.from",function(a){return a?a:function(a,e,b){$jscomp.initSymbolIterator();e=null!=e?e:function(b){return b};var c=[],d=a[Symbol.iterator];if("function"==typeof d)for(a=d.call(a);!(d=a.next()).done;)c.push(e.call(b,d.value));else for(var d=a.length,g=0;g<d;g++)c.push(e.call(b,a[g]));return c}},"es6-impl","es3");
(function(a,d){"function"===typeof define?define(a,d):"undefined"!==typeof module&&module.exports?module.exports=d():this[a]=d()})("Select",function(){var a=function(b){this.props=b||{};this.state={};this.refs={};this.$disposables={mounted:[],updated:[]}};a.prototype.$defer=function(b,a){this.$disposables[b].push(a)};a.prototype.$dispose=function(b){this.$disposables[b].reverse().forEach(function(b){return b()});this.$disposables[b].length=0};a.prototype.componentMount=function(b){var a=this;this.$el&&
this.componentUnmount();this.componentWillMount();this.$el=b&&b.el||document.createElement("div");this.$defer("mounted",function(){a.$el.innerHTML="";a.$el=null});this.forceUpdate();this.componentDidMount();return this};a.prototype.componentWillMount=function(){};a.prototype.componentDidMount=function(){};a.prototype.componentUnmount=function(){this.componentWillUnmount();this.$dispose("mounted");this.componentDidUnmount();return this};a.prototype.componentWillUnmount=function(){};a.prototype.componentDidUnmount=
function(){};a.prototype.setState=function(b,a){var c=this.state;b="function"==typeof b?b(c,this.props):b;this.state=Object.assign(c,b);this.shouldComponentUpdate(c,b)&&this.forceUpdate();a&&a.call(this);return this};a.prototype.forceUpdate=function(){this.componentUpdate(this.props,this.state);return this};a.prototype.shouldComponentUpdate=function(b,a){return b!==a};a.prototype.componentUpdate=function(b,a){this.$el&&(this.componentWillUpdate(b,a),this.$dispose("updated"),this.$el.innerHTML=this.render(b,
a),this.refs=Array.from(this.$el.querySelectorAll("[ref]")).reduce(function(a,b){return a[b.getAttribute("ref")]=b,a},{}),this.componentDidUpdate(b,a))};a.prototype.componentWillUpdate=function(a,c){};a.prototype.render=function(a,c){return""};a.prototype.componentDidUpdate=function(a,c){};var d=function(b){var c=a.call(this,b)||this;b=c.props.selected;c.state={placeholder:b&&b.text?b.text:b||c.props.placeholder||"",selected:b||null,expanded:!1};c.onDocumentClick=c.onDocumentClick.bind(c);c.onToolboxClick=
c.onToolboxClick.bind(c);c.dropdown=new e(Object.assign({},c.props,{onSelected:function(a){c.props.onSelected&&c.props.onSelected(a);c.setState(function(b){return{placeholder:a.text||a.value,selected:a,expanded:!1}})}}));return c};$jscomp.inherits(d,a);d.prototype.onDocumentClick=function(a){a.$owner!==this&&this.setState(function(a){return{expanded:!1}})};d.prototype.onToolboxClick=function(a){var b=this;a.$owner=this;this.setState(function(a){return{expanded:!a.expanded}},function(){b.props.search&&
b.state.expanded&&b.dropdown.refs.query.focus()})};d.prototype.render=function(a,c){return'<div class="select__box '+(c.expanded?"select__box--expanded":"")+'">\n                    <div ref="toolbox" class="select__toolbox">\n                        <i class="select__arrow" aria-hidden="true"></i>\n                        <div class="select__label">'+c.placeholder+'</div>\n                    </div>\n                    <div ref="dropdown" class="select__dropdown '+(c.expanded?"select__dropdown--show":
"")+'"></div>\n                </div>'};d.prototype.componentDidMount=function(){var a=this;document.body.addEventListener("click",this.onDocumentClick);this.$defer("mounted",function(){return document.body.removeEventListener("click",a.onDocumentClick)})};d.prototype.componentDidUnmount=function(){this.dropdown.componentUnmount()};d.prototype.componentDidUpdate=function(){var a=this,c=this.refs.toolbox;c.addEventListener("click",this.onToolboxClick);this.$defer("updated",function(){return c.removeEventListener("click",
a.onToolboxClick)});this.dropdown.componentMount({el:this.refs.dropdown})};var e=function(b){b=a.call(this,b)||this;b.state={query:"",dataset:b.props.dataset||[],selected:b.props.selected,openDownwards:!0};b.onQueryChanged=b.onQueryChanged.bind(b);b.onItemClicked=b.onItemClicked.bind(b);return b};$jscomp.inherits(e,a);e.prototype.onQueryChanged=function(a){var b=a.target.value,d=new RegExp(b,"gi"),e=(this.props.dataset||[]).filter(function(a){return d.test(a.text||a.value||"")});this.setState(function(a){return{query:b,
dataset:e}})};e.prototype.onItemClicked=function(a){if((a=a.target.closest("li"))&&this.state){var b=this.state.dataset[a.dataset.index];this.props.onSelected&&this.props.onSelected(b);this.setState(function(a){return{selected:b}})}};e.prototype.render=function(a,c){if(0===c.dataset.length)return'<input ref="query" type="text" value="'+c.query+'" class="select__query">\n                    <span class="select__query_noresult">'+(a.noResults||"")+"</span>";var b="";a.search&&(b='<input ref="query" type="text" value="'+
c.query+'" class="select__query">');return b+'\n                    <ul ref="list" class="select__list">\n                        '+c.dataset.map(function(a,b){return'\n                                <li class="select__item '+(a===c.selected||a.value===c.selected?"select__item--selected":"")+" "+(a.class||"")+'" data-index="'+b+'" data-value="'+(a.value||a.text)+'">\n                                    <i class="select__item_icon '+(a.icon||"")+'" aria-hidden="true"></i>\n                                    <span class="select__item_text">'+
(a.content||a.text||a.value)+"</span>\n                                </li>"}).join("")+"\n                    </ul>"};e.prototype.componentDidUpdate=function(){var a=this,c=this.$el,d=c.getBoundingClientRect();d.top+d.height>window.innerHeight&&(c.style.marginTop=-c.clientHeight-c.parentElement.clientHeight+"px");if(this.props.search){var e=this.refs.query;e.addEventListener("change",this.onQueryChanged);this.$defer("updated",function(){return e.removeEventListener("change",a.onQueryChanged)})}var f=
this.refs.list;f&&(f.addEventListener("click",this.onItemClicked),this.$defer("updated",function(){return f.removeEventListener("click",a.onItemClicked)}))};return d});
